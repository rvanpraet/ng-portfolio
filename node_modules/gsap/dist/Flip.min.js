/*!
 * Flip 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function g(t){return h(h(t||document.body)[0].querySelectorAll("[data-flip-id]"))}function i(t){var e,n={};for(e in t)$[e]||(n[e]=t[e]);return n}function j(t,e,n){for(var i=0;i<t.length;i++){var r,o,p=t[i],a=e[i],s=p.style;p.parentNode||a.p&&a.p.appendChild(p),"none"===Z.getProperty(p,"display")&&(s.display=a.d),s.position="absolute",s.width=a.w+"px",s.height=a.h+"px",s.top||(s.top="0px"),s.left||(s.left="0px"),r=p.getBoundingClientRect(),o={x:a.l-r.left,y:a.t-r.top},Z.set(p,{x:"+="+o.x,y:"+="+o.y}),n&&(n[i]=o)}return n}function k(t){var e=t.getBoundingClientRect(),n=Z.getProperty(t);return{el:t,d:n("display"),p:t.parentNode,sx:n("scaleX"),sy:n("scaleY"),x:n("x"),y:n("y"),l:e.left,t:e.top,w:parseFloat(n("width","px")),h:parseFloat(n("height","px")),bw:e.width,bh:e.height,css:t.style.cssText,o:n("opacity"),rx:0,ry:0,origin:getComputedStyle(t).transformOrigin.split(" ").map(parseFloat)}}function l(t){var e,n=t.w,i=t.h,r=t.el,o=t.l,p=t.t,a=t.bw,s=t.bh,l=r.style,u=l.width,f=l.height;l.width=n+100+"px",l.height=i+100+"px",e=r.getBoundingClientRect(),t.rx=Math.abs((e.left-o)/(e.width-a)),t.ry=Math.abs((e.top-p)/(e.height-s)),u?l.width=u:l.removeProperty("width"),f?l.height=f:l.removeProperty("height")}function m(t,e,n){for(var i=0,r=n._flipProps;t;)t._flip===n&&(i+=r[e](t._flipI)-Z.getProperty(t,e)),t=t.parentNode;return i}function n(t,e,n,i,r){return e.x+(t.l-e.l)+(n?(t.bw/e.bw*e.sx-e.sx)*e.origin[0]:(t.bw-e.bw)*e.rx)+i-(r?m(e.p,"x",r):0)}function o(t,e,n,i,r){return e.y+(t.t-e.t)+(n?(t.bh/e.bh*e.sy-e.sy)*e.origin[1]:(t.bh-e.bh)*e.ry)+i-(r?m(e.p,"y",r):0)}function p(t,e){return e.sx*(t.bw/e.bw)}function q(t,e){return e.sy*(t.bh/e.bh)}function r(t,e,n,i,r,o,p){if(e.length){var a,s,l,u=p?n:i,f=[];for(a=0;a<e.length;a++)l=e[a],s=t.indexOf(l),p||"none"===n[s].d&&(l.style.display=i[s].d),~s?(f.push(u[s]),t.splice(s,1),n.splice(s,1),i.splice(s,1)):f.push(k(e[a]));r&&o.add(r(e,function(){return j(e,f)||e}),0)}}var h,Z,w=1,$={change:1,targets:1,onComplete:1,onUpdate:1,onStart:1,delay:1,scale:1,context:1,swap:1,wait:1,onInit:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1},e=(Flip.fit=function fit(t,e,r){t=h(t)[0];var a=r?i(r):{},s=k(h(e)[0]),l=k(t),u=r||a,f=u.absolute,c=u.scale,d=f&&j([t],[l],[])[0];return a.x=n(s,l,c,d?d.x:0),a.y=o(s,l,c,d?d.y:0),c?(a.scaleX=p(s,l),a.scaleY=q(s,l)):(a.width=s.w,a.height=s.h),a},Flip.register=function register(t){h=(Z=t).utils.toArray,Z.flip=function(t){return new Flip(t)}},Flip);function Flip(O){var N,t,S,X=O.onComplete,e=O.delay,Y=O.scale,a=O.targets,s=O.change,u=O.onUpdate,f=O.onStart,I=O.context,B=O.swap,M=O.onInit,R=O.absolute,U=O.props,L=O.onEnter,T=O.onLeave,z=O.custom,c=O.paused,d=O.wait,D=O.nested,G=this,H=G.targets=a?h(a):g(I),J=G.animation=Z.timeline({delay:e,onStart:f,onUpdate:u,paused:c}),K="fade"===B&&[],Q={},V={},W=[];S=H.map(k),U=U&&U.split(" ").join("").split(","),G.measured=!1,G.vars=O,d&&J.pause(),H.forEach(function(t,e){var n=t.getAttribute("data-flip-id");if(n||t.setAttribute("data-flip-id",n=""+w++),Q[n]=S[e],K&&(K[e]=S[e].o),"none"!==S[e].d&&S[e].p||W.push(t),U){var i=Z.getProperty(t,null,"native"),r=S[e].props={};for(e=U.length;e--;)r[U[e]]=i(U[e])}t._flip&&t._flip.progress(1),t._flip=J}),G.getFrom=function(t,e){return"function"==typeof V[e]&&V[e](H.indexOf(h(t)[0]))},G.measure=function(){G.measured=!0;function kb(){return F.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)})}var a,s,t,e,u,f,c,d,h,w,b,m,v,_,C,P=[],F=[],E=R&&[],A=V;if(I||B)for(f=g(I),c=0;c<f.length;c++)t=(e=f[c]).getAttribute("data-flip-id"),(u=Q[t])?!1!==B&&u.el!==e&&(H.push(e),S.push(u),P.push(e),F.push(u.el),e._flip=J,K&&(K.push(0),u.el.style.opacity="0")):W.push(e);for(N in F.length||(K=!1),a=H.map(k),O)$[N]||(V[N]=O[N]);if(U&&U.forEach(function(e){return V[e]=function(t){return S[t].props[e]}}),r(H,W,S,a,L,J),T){for(_=[],c=H.length;c--;)"none"!==a[c].d&&a[c].p||_.push(H[c]);r(H,_,S,a,T,J,!0)}if(Y?(V.scaleX=m=function scaleX(t){return p(S[t],a[t])},V.scaleY=v=function scaleY(t){return q(S[t],a[t])}):(R&&(E=j(H,a,[])),Y||a.forEach(l),V.width=w=function width(t){return S[t].w},V.height=b=function height(t){return S[t].h}),V.x=d=function x(t){return n(S[t],a[t],Y,R?E[t].x:0,D&&J)},V.y=h=function y(t){return o(S[t],a[t],Y,R?E[t].y:0,D&&J)},D&&(J._flipProps=V,H.forEach(function(t,e){return t._flipI=e})),K?V.opacity=function(t){return K[t]}:kb(),J.eventCallback("onComplete",function(){H.forEach(function(t,e){t._gsap.uncache=1,t.style.cssText=a[e].css})||!K||kb(),X&&X.apply(J,O.onCompleteParams||[])}),F.forEach(function(t,e){s=H.indexOf(t),a[s]=S[s],S[s]=a[H.indexOf(P[e])];var n={x:d(s),y:h(s)};Y?(n.scaleX=m(s),n.scaleY=v(s)):(n.width=w(s),n.height=b(s)),Z.set(t,n),S[s]=a[s]}),M&&M(G),z&&H.length)for(N in A=i(V),z)(C=i(z[N]))[N]=V[N],J.from(H,C,0),delete A[N];return H.length?J.from(H,A,0):J},(t=s(G))&&t instanceof Z.core.Animation&&J.add(t,0),d||G.measured||G.measure()}"undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(e),t.Flip=e,t.default=e;if (typeof(window)==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})} else {delete t.default}});

