/*!
 * Flip 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";var e={name:"flip",register:function register(T){function h(t){return u(u(t||document.body)[0].querySelectorAll("[data-flip-id]"))}function j(t,e,n){for(var o=0;o<t.length;o++){var i,r,a=t[o],l=e[o];a.parentNode||l.p&&l.p.appendChild(a),"none"===T.getProperty(a,"display")&&(a.style.display=l.d),a.style.position="absolute",a.style.width=l.w+"px",a.style.height=l.h+"px",a.style.top=a.style.left="0px",i=a.getBoundingClientRect(),r={x:l.l-i.left,y:l.t-i.top},T.set(a,{x:"+="+r.x,y:"+="+r.y}),n&&(n[o]=r)}return n}function k(t){var e=t.getBoundingClientRect(),n=T.getProperty(t);return{el:t,d:n("display"),p:t.parentNode,sx:n("scaleX"),sy:n("scaleY"),x:n("x"),y:n("y"),l:e.left,t:e.top,w:parseFloat(n("width","px")),h:parseFloat(n("height","px")),bw:e.width,bh:e.height,css:t.style.cssText,o:n("opacity"),origin:getComputedStyle(t).transformOrigin.split(" ").map(parseFloat)}}function l(t,e,n,o,i,r,a){if(e.length){var l,p,s,u=a?n:o,f=[];for(l=0;l<e.length;l++)s=e[l],p=t.indexOf(s),a||"none"===n[p].d&&(s.style.display=o[p].d),~p?(f.push(u[p]),t.splice(p,1),n.splice(p,1),o.splice(p,1)):f.push(k(e[l]));i&&r.add(i(e,function(){return j(e,f)||e}),0)}}var s=1,u=T.utils.toArray,q={change:1,targets:1,onComplete:1,onUpdate:1,onStart:1,delay:1,scale:1,context:1,swap:1,wait:1,onInit:1,absolute:1,props:1,onEnter:1,onLeave:1};T.flip=function(v){"object"==typeof v&&!v.push||(v={targets:v});var C,t,e,n=v.onComplete,o=v.delay,E=v.scale,i=v.targets,r=v.change,a=v.onUpdate,p=v.onStart,_=v.context,A=v.swap,O=v.onInit,P=v.absolute,S=v.props,F=v.onEnter,N=v.onLeave,X=i?u(i):h(_),Y=T.timeline({delay:o,onStart:p,onUpdate:a,onComplete:n}),R="fade"===A&&[],U={},B=X.map(k),I={},L=[];return S=S&&S.split(" ").join("").split(","),X.forEach(function(t,e){var n=t.getAttribute("data-flip-id");if(n||t.setAttribute("data-flip-id",n=""+s++),U[n]=B[e],R&&(R[e]=B[e].o),"none"!==B[e].d&&B[e].p||L.push(t),S){var o=T.getProperty(t,null,"native"),i=B[e].props={};for(e=S.length;e--;)i[S[e]]=o(S[e])}t._flip&&t._flip.progress(1),t._flip=Y}),(e=r(t=function onReady(){function ra(){return b.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)})}var o,i,t,e,n,r,a,p,s,u,f,c,d,g,w=[],b=[],m=P&&[];for(r=h(_),a=0;a<r.length;a++)t=(e=r[a]).getAttribute("data-flip-id"),(n=U[t])?!1!==A&&n.el!==e&&(X.push(e),B.push(n),w.push(e),b.push(n.el),e._flip=Y,R&&(R.push(0),n.el.style.opacity="0")):L.push(e);for(C in b.length||(R=!1),o=X.map(k),v)q[C]||(I[C]=v[C]);if(S&&S.forEach(function(e){return I[e]=function(t){return B[t].props[e]}}),l(X,L,B,o,F,Y),N){for(g=[],a=X.length;a--;)"none"!==o[a].d&&o[a].p||g.push(X[a]);l(X,g,B,o,N,Y,!0)}return E?(I.x=p=function x(t){return o[t].x+(B[t].l-o[t].l)+(B[t].bw/o[t].bw*o[t].sx-o[t].sx)*o[t].origin[0]},I.y=s=function y(t){return o[t].y+(B[t].t-o[t].t)+(B[t].bh/o[t].bh*o[t].sy-o[t].sy)*o[t].origin[1]},I.scaleX=c=function scaleX(t){return o[t].sx*(B[t].bw/o[t].bw)},I.scaleY=d=function scaleY(t){return o[t].sy*(B[t].bh/o[t].bh)}):(P&&(m=j(X,o,[])),I.x=p=function x(t){return o[t].x+(B[t].l-o[t].l)+(P?m[t].x:0)},I.y=s=function y(t){return o[t].y+(B[t].t-o[t].t)+(P?m[t].y:0)},I.width=u=function width(t){return B[t].w},I.height=f=function height(t){return B[t].h}),R?I.opacity=function(t){return R[t]}:ra(),I.onComplete=function(){return X.forEach(function(t,e){t._gsap.uncache=1,t.style.cssText=o[e].css})||!R||ra()},b.forEach(function(t,e){i=X.indexOf(t),o[i]=B[i],B[i]=o[X.indexOf(w[e])];var n={x:p(i),y:s(i)};E?(n.scaleX=c(i),n.scaleY=d(i)):(n.width=u(i),n.height=f(i)),T.set(t,n),B[i]=o[i]}),O&&O(Y,B,o),(X.length?Y.from(X,I,0):Y).play()}))&&e instanceof T.core.Animation&&Y.add(e,0),v.wait?Y.pause():t()}}};"undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(e),t.Flip=e,t.default=e;if (typeof(window)==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})} else {delete t.default}});

